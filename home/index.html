<!DOCTYPE html>
<html lang="en">
<head>
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Person",
      "name": "Vicky Kuang",
      "url": "https://pixelatedk.github.io/vickykuang/",
      "sameAs": [
        "https://github.com/pixelatedk"
      ]
    }
    </script>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vicky Kuang</title>
    <meta name="description" content="Vicky Kuang — student at University of Toronto. Projects in computational epidemiology and neuroscience." />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Crimson+Pro:wght@300;400;500&family=Spectral:wght@300;400;500&family=Lora:wght@400;500&family=Tiempos+Text:wght@400;600&family=Caveat:wght@400;500;600&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg: #F4EFE6;
            --text: #3A3530;
            --text-secondary: #6B6560;
            --accent: #B8E8D8;
            --accent-dark: #9DD9C9;
            --border: #D4C9BA;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background: var(--bg);
            color: var(--text);
            font-family: 'Crimson Pro', Georgia, 'Times New Roman', serif;
            font-weight: 400;
            font-size: 17px;
            line-height: 1.65;
            padding: 40px 20px;
            max-width: 720px;
            margin: 0 auto;
            transition: background 0.6s cubic-bezier(0.4, 0, 0.2, 1), color 0.6s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            animation: pageEnter 0.8s cubic-bezier(0.4, 0, 0.2, 1) backwards;
        }

        @keyframes pageEnter {
            0% {
                opacity: 0;
                transform: scale(0.98);
            }
            100% {
                opacity: 1;
                transform: scale(1);
            }
        }

        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0.03;
            z-index: -1;
            background-image: 
                repeating-linear-gradient(0deg, transparent, transparent 2px, rgba(0,0,0,.03) 2px, rgba(0,0,0,.03) 4px),
                repeating-linear-gradient(90deg, transparent, transparent 2px, rgba(0,0,0,.03) 2px, rgba(0,0,0,.03) 4px);
            pointer-events: none;
        }

        body.dark-mode {
            --bg: #2B2825;
            --text: #E8E3D9;
            --text-secondary: #AFA79D;
            --accent: #6B9E8E;
            --accent-dark: #8BC3B3;
            --border: #4A423A;
        }

        body.dark-mode::before {
            opacity: 0.02;
            background-image: 
                repeating-linear-gradient(0deg, transparent, transparent 2px, rgba(255,255,255,.05) 2px, rgba(255,255,255,.05) 4px),
                repeating-linear-gradient(90deg, transparent, transparent 2px, rgba(255,255,255,.05) 2px, rgba(255,255,255,.05) 4px);
        }
        
        body * {
            transition: color 0.6s cubic-bezier(0.4, 0, 0.2, 1), border-color 0.6s cubic-bezier(0.4, 0, 0.2, 1), background 0.6s cubic-bezier(0.4, 0, 0.2, 1);
        }

        h1 {
            font-family: 'Tiempos Text', Georgia, serif;
            font-weight: 600;
            font-size: 32px;
            margin-bottom: 8px;
            letter-spacing: -0.02em;
        }

        .subtitle {
            color: var(--text-secondary);
            font-size: 15px;
            margin-bottom: 40px;
            font-weight: 400;
        }

        .section {
            margin-bottom: 48px;
        }

        .section-title {
            font-family: 'Tiempos Text', Georgia, serif;
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 16px;
            color: var(--text);
        }

        ul {
            list-style: none;
        }

        li {
            margin-bottom: 12px;
            padding-left: 20px;
            position: relative;
            transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        li:hover {
            transform: translateX(2px);
        }

        li:before {
            content: "·";
            position: absolute;
            left: 6px;
            color: var(--accent-dark);
            font-size: 20px;
            line-height: 1.4;
            transition: color 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        li:hover:before {
            color: var(--accent-dark);
        }

        a {
            color: var(--text);
            text-decoration: none;
            border-bottom: 1px solid var(--accent);
            padding-bottom: 1px;
            display: inline-block;
            position: relative;
        }

        a::after {
            content: '';
            position: absolute;
            bottom: -1px;
            left: 0;
            width: 0;
            height: 1px;
            background: var(--accent-dark);
            transition: width 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }

        a:hover::after {
            width: 100%;
        }

        a:hover {
            color: var(--accent-dark);
        }

        /* Remove underline styling from writing links */
        [data-essay] {
            border-bottom: none;
            cursor: pointer;
            transition: color 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        [data-essay]::after {
            display: none;
        }

        [data-essay]:hover {
            color: var(--accent-dark);
        }

        /* Thought of the Day */
        .thought-container {
            background: #F8F4ED;
            border: 1px solid rgba(139, 124, 103, 0.3);
            border-radius: 12px;
            padding: 28px 32px;
            margin-bottom: 48px;
            box-shadow: 
                0 2px 6px rgba(0, 0, 0, 0.06),
                0 8px 16px rgba(0, 0, 0, 0.08),
                0 16px 32px rgba(0, 0, 0, 0.1),
                inset 0 0 30px rgba(139, 124, 103, 0.05);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            animation: thoughtEnter 0.8s cubic-bezier(0.4, 0, 0.2, 1) 0.3s backwards;
            position: relative;
        }

        .thought-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-image: 
                url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='400'%3E%3Cfilter id='paper'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.95' numOctaves='6' result='noise'/%3E%3CfeDiffuseLighting in='noise' lighting-color='%23F8F4ED' surfaceScale='2'%3E%3CfeDistantLight azimuth='45' elevation='60'/%3E%3C/feDiffuseLighting%3E%3C/filter%3E%3Crect width='400' height='400' filter='url(%23paper)' opacity='0.5'/%3E%3C/svg%3E");
            background-size: 180px 180px;
            mix-blend-mode: multiply;
            opacity: 0.8;
            pointer-events: none;
            border-radius: 12px;
            z-index: 1;
        }

        .thought-container::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: 
                radial-gradient(ellipse 600px 400px at 30% 40%, rgba(184, 232, 216, 0.1) 0%, transparent 50%),
                radial-gradient(ellipse 400px 600px at 70% 60%, rgba(255, 245, 230, 0.12) 0%, transparent 50%),
                repeating-linear-gradient(
                    0deg,
                    transparent,
                    transparent 24px,
                    rgba(139, 124, 103, 0.04) 24px,
                    rgba(139, 124, 103, 0.04) 25px
                );
            pointer-events: none;
            border-radius: 12px;
            z-index: 2;
        }

        @keyframes thoughtEnter {
            0% {
                opacity: 0;
                transform: translateY(-10px);
            }
            100% {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .thought-container:hover {
            box-shadow: 
                0 4px 10px rgba(0, 0, 0, 0.08),
                0 12px 24px rgba(0, 0, 0, 0.1),
                0 20px 40px rgba(0, 0, 0, 0.12),
                inset 0 0 30px rgba(139, 124, 103, 0.06);
            border-color: rgba(184, 232, 216, 0.5);
        }

        body.dark-mode .thought-container {
            background: #2B2825;
            box-shadow: 
                0 2px 6px rgba(0, 0, 0, 0.2),
                0 8px 16px rgba(0, 0, 0, 0.25),
                0 16px 32px rgba(0, 0, 0, 0.3),
                inset 0 0 30px rgba(0, 0, 0, 0.15);
            border: 1px solid rgba(139, 124, 103, 0.2);
        }

        body.dark-mode .thought-container::before {
            opacity: 0.3;
        }

        body.dark-mode .thought-container::after {
            background: 
                radial-gradient(ellipse 600px 400px at 30% 40%, rgba(107, 158, 142, 0.06) 0%, transparent 50%),
                radial-gradient(ellipse 400px 600px at 70% 60%, rgba(139, 124, 103, 0.04) 0%, transparent 50%),
                repeating-linear-gradient(
                    0deg,
                    transparent,
                    transparent 24px,
                    rgba(255, 255, 255, 0.02) 24px,
                    rgba(255, 255, 255, 0.02) 25px
                );
        }

        body.dark-mode .thought-container:hover {
            box-shadow: 
                0 4px 10px rgba(0, 0, 0, 0.3),
                0 12px 24px rgba(0, 0, 0, 0.35),
                0 20px 40px rgba(0, 0, 0, 0.4),
                inset 0 0 30px rgba(0, 0, 0, 0.2);
        }

        .thought-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 16px;
            position: relative;
            z-index: 10;
        }

        .thought-label {
            font-family: 'Tiempos Text', Georgia, serif;
            font-size: 14px;
            font-weight: 600;
            color: var(--text-secondary);
            text-transform: lowercase;
            letter-spacing: 0.02em;
        }

        .thought-nav {
            display: flex;
            gap: 8px;
            align-items: center;
        }

        .thought-counter {
            font-size: 12px;
            color: var(--text-secondary);
            opacity: 0.6;
            margin-right: 4px;
        }

        .thought-nav-btn {
            background: none;
            border: none;
            width: 28px;
            height: 28px;
            border-radius: 14px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            color: var(--text-secondary);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            opacity: 0.5;
            position: relative;
            z-index: 10;
        }

        .thought-nav-btn:hover:not(:disabled) {
            opacity: 1;
            background: var(--accent);
            color: var(--text);
            transform: scale(1.05);
        }

        .thought-nav-btn:disabled {
            opacity: 0.2;
            cursor: not-allowed;
        }

        .thought-nav-btn svg {
            width: 14px;
            height: 14px;
            stroke: currentColor;
            stroke-width: 2;
            fill: none;
        }

        .thought-text {
            font-size: 16px;
            line-height: 1.65;
            color: var(--text);
            margin-bottom: 12px;
            cursor: pointer;
            position: relative;
            z-index: 10;
        }

        .thought-text:hover {
            color: var(--accent-dark);
        }

        .thought-date {
            font-size: 13px;
            color: var(--text-secondary);
            opacity: 0.6;
            position: relative;
            z-index: 10;
        }

        @media (max-width: 640px) {
            .thought-container {
                padding: 20px 24px;
            }

            .thought-text {
                font-size: 15px;
            }
        }

        /* Novel button ideas */
        .floating-actions {
            position: fixed;
            bottom: 24px;
            right: 24px;
            display: flex;
            flex-direction: column;
            gap: 12px;
            z-index: 100;
        }

        .action-btn {
            width: 48px;
            height: 48px;
            border-radius: 24px;
            background: var(--accent);
            border: 1px solid var(--accent-dark);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
        }

        .action-btn:hover {
            background: var(--accent-dark);
            transform: scale(1.08);
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }

        .action-btn svg {
            width: 20px;
            height: 20px;
            stroke: var(--text);
            stroke-width: 2;
            fill: none;
        }

        .action-btn.theme {
            overflow: visible;
            position: relative;
        }

        .theme-indicator {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: var(--bg);
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            transition: all 0.3s ease;
        }

        .action-btn.theme:hover .theme-indicator {
            transform: translate(-50%, -50%) scale(1.3);
        }

        body.dark-mode .theme-indicator {
            background: var(--accent);
        }

        .tooltip {
            position: absolute;
            right: 60px;
            background: var(--text);
            color: var(--bg);
            padding: 6px 12px;
            border-radius: 6px;
            font-family: 'Crimson Pro', Georgia, 'Times New Roman', serif;
            font-size: 14px;
            font-weight: 400;
            white-space: nowrap;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            text-transform: lowercase;
        }

        .action-btn:hover .tooltip {
            opacity: 1;
        }

        .progress-bar {
            position: fixed;
            top: 0;
            left: 0;
            height: 2px;
            background: linear-gradient(90deg, var(--accent), var(--accent-dark));
            width: 0;
            z-index: 1000;
            transition: width 0.1s linear;
        }

        .email-copied {
            position: fixed;
            top: 24px;
            right: 24px;
            background: var(--text);
            color: var(--bg);
            padding: 12px 20px;
            border-radius: 24px;
            font-size: 14px;
            opacity: 0;
            transform: translateY(-10px);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            pointer-events: none;
            z-index: 101;
        }

        .email-copied.show {
            opacity: 1;
            transform: translateY(0);
        }

        .popup-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.6);
            backdrop-filter: blur(4px);
            opacity: 0;
            visibility: hidden;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            z-index: 200;
        }

        .popup-overlay.active {
            opacity: 1;
            visibility: visible;
        }

        .writing-popup {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0.95);
            width: 90%;
            max-width: 640px;
            max-height: 85vh;
            background: #F8F4ED;
            border-radius: 12px;
            padding: 48px 40px;
            opacity: 0;
            visibility: hidden;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            z-index: 201;
            overflow-y: auto;
            box-shadow: 
                0 2px 8px rgba(0, 0, 0, 0.08),
                0 12px 24px rgba(0, 0, 0, 0.12),
                0 24px 48px rgba(0, 0, 0, 0.16),
                inset 0 0 40px rgba(139, 124, 103, 0.06);
            border: 1px solid rgba(139, 124, 103, 0.3);
            position: relative;
        }

        .writing-popup::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-image: 
                url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='400'%3E%3Cfilter id='paper'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.95' numOctaves='6' result='noise'/%3E%3CfeDiffuseLighting in='noise' lighting-color='%23F8F4ED' surfaceScale='2'%3E%3CfeDistantLight azimuth='45' elevation='60'/%3E%3C/feDiffuseLighting%3E%3C/filter%3E%3Crect width='400' height='400' filter='url(%23paper)' opacity='0.5'/%3E%3C/svg%3E");
            background-size: 180px 180px;
            mix-blend-mode: multiply;
            opacity: 0.9;
            pointer-events: none;
            border-radius: 12px;
            z-index: 1;
        }

        .writing-popup::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: 
                radial-gradient(ellipse 800px 600px at 20% 30%, rgba(184, 232, 216, 0.12) 0%, transparent 50%),
                radial-gradient(ellipse 600px 800px at 80% 70%, rgba(255, 245, 230, 0.15) 0%, transparent 50%),
                radial-gradient(circle 400px at 50% 50%, rgba(248, 244, 237, 0.3) 0%, transparent 50%),
                repeating-linear-gradient(
                    45deg,
                    transparent,
                    transparent 20px,
                    rgba(139, 124, 103, 0.008) 20px,
                    rgba(139, 124, 103, 0.008) 21px
                );
            pointer-events: none;
            border-radius: 12px;
            z-index: 2;
        }

        body.dark-mode .writing-popup {
            background: #2B2825;
            box-shadow: 
                0 2px 8px rgba(0, 0, 0, 0.3),
                0 12px 24px rgba(0, 0, 0, 0.4),
                0 24px 48px rgba(0, 0, 0, 0.5),
                inset 0 0 40px rgba(0, 0, 0, 0.2);
            border: 1px solid rgba(139, 124, 103, 0.2);
        }

        body.dark-mode .writing-popup::before {
            opacity: 0.3;
        }

        body.dark-mode .writing-popup::after {
            background: 
                radial-gradient(ellipse 800px 600px at 20% 30%, rgba(107, 158, 142, 0.08) 0%, transparent 50%),
                radial-gradient(ellipse 600px 800px at 80% 70%, rgba(139, 124, 103, 0.06) 0%, transparent 50%);
        }

        .writing-popup.active {
            opacity: 1;
            visibility: visible;
            transform: translate(-50%, -50%) scale(1);
        }

        .popup-close {
            position: absolute;
            top: 20px;
            right: 20px;
            width: 36px;
            height: 36px;
            border-radius: 18px;
            background: transparent;
            border: none;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            z-index: 10;
        }

        .popup-close:hover {
            background: var(--accent);
            transform: rotate(90deg);
        }

        .popup-close svg {
            width: 20px;
            height: 20px;
            stroke: var(--text);
            stroke-width: 2;
        }

        .popup-title {
            font-family: 'Tiempos Text', Georgia, serif;
            font-size: 28px;
            font-weight: 600;
            margin-bottom: 8px;
            color: var(--text);
            position: relative;
            z-index: 10;
        }

        .popup-date {
            color: var(--text-secondary);
            font-size: 14px;
            margin-bottom: 28px;
            position: relative;
            z-index: 10;
        }

        .popup-content {
            font-size: 17px;
            line-height: 1.7;
            color: var(--text);
            position: relative;
            z-index: 10;
        }

        .popup-content p {
            margin-bottom: 20px;
        }

        .popup-content p:last-child {
            margin-bottom: 0;
        }

        @media (max-width: 640px) {
            .writing-popup {
                width: 92%;
                padding: 36px 28px;
                max-height: 80vh;
            }

            .popup-title {
                font-size: 24px;
            }

            .popup-content {
                font-size: 16px;
            }
        }
    </style>
</head>
<body>
    <!-- Reading progress bar -->
    <div class="progress-bar" id="progressBar"></div>

    <!-- Main content -->
    <h1>vicky kuang</h1>
    <div class="subtitle">interested in computational solutions in epidemiology & neuroscience, and photography (for fun!) </div>

    <!-- Thought of the Day -->
    <div class="thought-container" id="thoughtContainer">
        <div class="thought-header">
            <div class="thought-label">thought of the day</div>
            <div class="thought-nav">
                <div class="thought-counter" id="thoughtCounter">0 / 0</div>
                <button class="thought-nav-btn" id="prevThought" aria-label="Previous thought" disabled>
                    <svg viewBox="0 0 24 24">
                        <polyline points="15 18 9 12 15 6"></polyline>
                    </svg>
                </button>
                <button class="thought-nav-btn" id="nextThought" aria-label="Next thought" disabled>
                    <svg viewBox="0 0 24 24">
                        <polyline points="9 18 15 12 9 6"></polyline>
                    </svg>
                </button>
            </div>
        </div>
        <div class="thought-text" id="thoughtText">Click to add your first thought...</div>
        <div class="thought-date" id="thoughtDate"></div>
    </div>

    <div class="section">
        <div class="section-title">currently</div>
        <ul>
            <li>a first year at the of univeristy of toronto (2029)</li>
            <li>mentored by PhD Candidate Abigail McGrory (Biostatistics)</li>
            <li>a local advocate for HIV/AIDS awareness </li>
        </ul>
    </div>

    <div class="section">
        <div class="section-title">projects underway</div>
        <ul>
            <li>thoughtbank: a curated inspiration database</li>
            <li>using biology + predictive modelling to spot leishmaniasis outbreaks</li>
        </ul>
    </div>

    <div class="section">
        <div class="section-title">writing</div>
        <ul>
            <li><a href="#" data-essay="simplicity">on advocacy</a></li>
            <li><a href="#" data-essay="prototyping">on Bryan Johnson & the longevity craze</a></li>
            <li><a href="#" data-essay="reading">"biohacking" and the era of self-experimentation</a></li>
        </ul>
    </div>

    <div class="section">
        <div class="section-title">contact & more</div>
        <ul>
            <li><a href="mailto:vicky.kuang@mail.utoronto.ca" id="emailLink">vicky.kuang@mail.utoronto.ca</a></li>
             <li><a href="https://github.com/pixelatedk">github</a></li>
            <li><a href="https://vsco.co/vckykuang/gallery">photos</a></li>
        </ul>
    </div>

    <!-- Floating action buttons -->
    <div class="floating-actions">
        <button class="action-btn theme" id="themeToggle" aria-label="Toggle theme">
            <div class="theme-indicator"></div>
            <span class="tooltip">Toggle theme</span>
        </button>
        
        <button class="action-btn" id="scrollTop" aria-label="Scroll to top">
            <svg viewBox="0 0 24 24">
                <polyline points="18 15 12 9 6 15"></polyline>
            </svg>
            <span class="tooltip">Back to top</span>
        </button>

        <button class="action-btn" id="copyEmail" aria-label="Copy email">
            <svg viewBox="0 0 24 24">
                <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
            </svg>
            <span class="tooltip">Copy email</span>
        </button>
    </div>

    <!-- Email copied notification -->
    <div class="email-copied" id="emailCopied">email copied!</div>

    <!-- Writing popup overlay -->
    <div class="popup-overlay" id="popupOverlay"></div>
    
    <!-- Writing popup -->
    <div class="writing-popup" id="writingPopup">
        <button class="popup-close" id="popupClose" aria-label="Close">
            <svg viewBox="0 0 24 24" fill="none">
                <line x1="18" y1="6" x2="6" y2="18"></line>
                <line x1="6" y1="6" x2="18" y2="18"></line>
            </svg>
        </button>
        <div class="popup-title" id="popupTitle"></div>
        <div class="popup-date" id="popupDate"></div>
        <div class="popup-content" id="popupContent"></div>
    </div>

    <script>
        // Thought of the Day functionality
        const thoughts = [
            {
                text: "sometimes the best code is the code you don't write",
                date: "Jan 26, 2026"
            },
            {
                text: "learning in public feels vulnerable but it's the fastest way to grow",
                date: "Jan 25, 2026"
            },
            {
                text: "good design is invisible until you try to use bad design",
                date: "Jan 24, 2026"
            }
        ];

        let currentThoughtIndex = 0;

        function updateThought() {
            const thoughtText = document.getElementById('thoughtText');
            const thoughtDate = document.getElementById('thoughtDate');
            const thoughtCounter = document.getElementById('thoughtCounter');
            const prevBtn = document.getElementById('prevThought');
            const nextBtn = document.getElementById('nextThought');

            if (thoughts.length === 0) {
                thoughtText.textContent = "Click to add your first thought...";
                thoughtDate.textContent = "";
                thoughtCounter.textContent = "0 / 0";
                prevBtn.disabled = true;
                nextBtn.disabled = true;
                return;
            }

            const thought = thoughts[currentThoughtIndex];
            thoughtText.textContent = thought.text;
            thoughtDate.textContent = thought.date;
            thoughtCounter.textContent = `${currentThoughtIndex + 1} / ${thoughts.length}`;

            prevBtn.disabled = currentThoughtIndex === 0;
            nextBtn.disabled = currentThoughtIndex === thoughts.length - 1;
        }

        document.getElementById('prevThought').addEventListener('click', (e) => {
            e.stopPropagation();
            if (currentThoughtIndex > 0) {
                currentThoughtIndex--;
                updateThought();
            }
        });

        document.getElementById('nextThought').addEventListener('click', (e) => {
            e.stopPropagation();
            if (currentThoughtIndex < thoughts.length - 1) {
                currentThoughtIndex++;
                updateThought();
            }
        });

        document.getElementById('thoughtText').addEventListener('click', (e) => {
            if (thoughts.length > 0 && currentThoughtIndex < thoughts.length - 1) {
                currentThoughtIndex++;
                updateThought();
            } else if (thoughts.length > 0) {
                currentThoughtIndex = 0;
                updateThought();
            }
        });

        // Initialize thought
        updateThought();

        // Theme toggle
        const themeToggle = document.getElementById('themeToggle');
        const body = document.body;
        
        // Check for saved theme preference
        const savedTheme = localStorage.getItem('theme');
        if (savedTheme === 'dark') {
            body.classList.add('dark-mode');
        }

        themeToggle.addEventListener('click', () => {
            body.classList.toggle('dark-mode');
            const isDark = body.classList.contains('dark-mode');
            localStorage.setItem('theme', isDark ? 'dark' : 'light');
        });

        // Scroll to top
        const scrollTopBtn = document.getElementById('scrollTop');
        scrollTopBtn.addEventListener('click', () => {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        });

        // Copy email to clipboard
        const copyEmailBtn = document.getElementById('copyEmail');
        const emailCopied = document.getElementById('emailCopied');

        copyEmailBtn.addEventListener('click', async () => {
            const email = 'vicky.kuang@mail.utoronto.ca';
            
            try {
                await navigator.clipboard.writeText(email);
                emailCopied.classList.add('show');
                setTimeout(() => {
                    emailCopied.classList.remove('show');
                }, 2000);
            } catch (err) {
                // Fallback for browsers that don't support clipboard API
                const textArea = document.createElement('textarea');
                textArea.value = email;
                textArea.style.position = 'fixed';
                textArea.style.left = '-999999px';
                document.body.appendChild(textArea);
                textArea.focus();
                textArea.select();
                try {
                    document.execCommand('copy');
                    emailCopied.classList.add('show');
                    setTimeout(() => {
                        emailCopied.classList.remove('show');
                    }, 2000);
                } catch (fallbackErr) {
                    console.error('Failed to copy email:', fallbackErr);
                }
                document.body.removeChild(textArea);
            }
        });

        // Reading progress bar
        const progressBar = document.getElementById('progressBar');
        
        window.addEventListener('scroll', () => {
            const windowHeight = document.documentElement.scrollHeight - document.documentElement.clientHeight;
            const scrolled = (window.scrollY / windowHeight) * 100;
            progressBar.style.width = scrolled + '%';
        });

        // Writing popup functionality
        const essays = {
            simplicity: {
                title: 'on advocacy',
                date: 'January 2026',
                content: `
                    <p>Simplicity isn't about removing features until there's nothing left. It's about understanding what matters and letting everything else fade away.</p>
                    
                    <p>The best interfaces feel invisible. You don't think about them—you think through them. They become extensions of your intent, not obstacles to overcome.</p>
                    
                    <p>This kind of simplicity is hard. It requires taste, restraint, and the courage to say no to good ideas in service of great ones. Every addition must justify its existence. Every element must pull its weight.</p>
                    
                    <p>When you get it right, people don't notice the design. They notice how easy it was to do what they wanted. That's the goal.</p>
                `
            },
            prototyping: {
                title: 'on Bryan Johnson & the longevity craze',
                date: 'January 2026',
                content: `
                    <p>The fastest way to learn something is to build it badly, then rebuild it well.</p>
                    
                    <p>Prototypes should be disposable. If you're afraid to throw away code, you've already invested too much. The point is to explore the problem space, not to write production software.</p>
                    
                    <p>Start with the hardest part. If there's a technical risk or an interaction that feels uncertain, build that first. Everything else can wait.</p>
                    
                    <p>Some of my best work started as terrible first drafts. The key is shipping the second version, not perfecting the first.</p>
                `
            },
            reading: {
                title: "biohacking & the era of self-experimentation",
                date: 'January 2026',
                content: `
                    <p>A running list of books, essays, and ideas that have stuck with me recently.</p>
                    
                    <p><em>The Timeless Way of Building</em> by Christopher Alexander—about patterns, quality, and the nature of good design. Dense but rewarding.</p>
                    
                    <p>Paul Graham's essays, especially the ones about taste and keeping your identity small. Clear thinking is rare.</p>
                    
                    <p><em>Thinking in Systems</em> by Donella Meadows—changed how I see feedback loops and leverage points. Essential for anyone building complex things.</p>
                    
                    <p>Always looking for recommendations. What should I read next?</p>
                `
            }
        };

        const popup = document.getElementById('writingPopup');
        const popupOverlay = document.getElementById('popupOverlay');
        const popupClose = document.getElementById('popupClose');
        const popupTitle = document.getElementById('popupTitle');
        const popupDate = document.getElementById('popupDate');
        const popupContent = document.getElementById('popupContent');

        // Open popup
        document.querySelectorAll('[data-essay]').forEach(link => {
            link.addEventListener('click', (e) => {
                e.preventDefault();
                const essayId = link.getAttribute('data-essay');
                const essay = essays[essayId];
                
                if (essay) {
                    popupTitle.textContent = essay.title;
                    popupDate.textContent = essay.date;
                    popupContent.innerHTML = essay.content;
                    
                    popupOverlay.classList.add('active');
                    popup.classList.add('active');
                    document.body.style.overflow = 'hidden';
                }
            });
        });

        // Close popup
        function closePopup() {
            popupOverlay.classList.remove('active');
            popup.classList.remove('active');
            document.body.style.overflow = '';
        }

        popupClose.addEventListener('click', closePopup);
        popupOverlay.addEventListener('click', closePopup);

        // Close popup with Escape key
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape' && popup.classList.contains('active')) {
                closePopup();
            }
        });
    </script>
</body>
</html>

